{"version":3,"sources":["containers/App/URLs.js","assets/images/pp_with_linus.jpg","containers/Dashboard/index.js","containers/Common/Profile/index.js","util/index.js","containers/Common/Social/index.js","containers/About/index.js","containers/Common/Company/index.js","containers/Common/Work/index.js","containers/Common/Institution/index.js","containers/Common/Education/index.js","containers/Resume/index.js","containers/Common/WorldMap/index.js","containers/Common/Graph/config.js","containers/Common/Graph/helper.js","containers/Common/Graph/ForceD3.jsx","containers/Common/LazyImage/index.js","containers/Common/BookShelf/index.js","containers/Common/NetworkGraph/components/Node/index.js","containers/Common/NetworkGraph/components/Link/index.js","containers/Common/NetworkGraph/components/Universe/index.js","containers/Common/NetworkGraph/index.js","containers/Common/Books/helper.js","containers/Common/Books/index.js","containers/Interests/index.js","containers/Contact/index.js","containers/Common/Footer/index.js","containers/App/index.js","registerServiceWorker.js","index.js"],"names":["exports","quotesAPI","booksAPI","module","__webpack_require__","p","Dashboard","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","name","quote","setState","react_default","a","createElement","Fragment","id","className","particles_default","params","particlesConfig","tilt_default","options","max","scale","concat","author","Component","Profile","data","_this$state$data","network","url","href","social","toLowerCase","getSocialIcon","Social","map","profile","idx","Common_Profile","key","About","summary","profiles","email","phone","Glyphicon_default","glyph","element","Common_Social","cv","lib_default","Image_default","src","ProfilePicture","alt","circle","Company","date","split","company","startDate","endDate","position","website","dist_es6","iconStyle","display","Work","companies","i","Common_Company","Institution","institution","studyType","area","getYear","Education","institutions","myArray","chunkSize","cloneArray","slice","results","length","push","splice","groups","chunkArray","group","inst","Common_Institution","Resume","education","work","_this$state","Common_Work","Common_Education","Travel","countries","spanStyle","opacity","country","indexOf","_this2","react_simple_maps_lib","projectionConfig","rotation","yOffset","width","height","style","geography","worldMap","geographies","projection","onClick","handleClick","onMouseEnter","properties","NAME","onMouseOver","event","left","clientX","window","screen","availWidth","top","clientY","onMouseOut","default","fill","getFillColor","stroke","strokeWidth","outline","hover","getHoverColor","pressed","config","helper","nodeTransform","d","x","y","updateData","context","diff","links","removed","forEach","node","nodes","filter","n","type","added","link","sourceNode","source","sourceType","targetNode","target","targetType","objectSpread","updateLinks","_context$state","linkGroup","linkTextGroup","tooltip","linkElements","selectAll","exit","remove","linkEnter","enter","append","attr","on","selectLink","handleMuseOver","handleMuseOut","linkLabelElements","linkLabelEnter","console","log","text","merge","updateNodes","_context$state2","nodeGroup","textGroup","nodeElements","nodeEnter","cleanupString","getNodeSize","getNodeColor","thumbnail_url","selectNode","rightClick","onMouseMove","textElements","getElements","_helper$updateLinks","_helper$updateNodes","tooltipElements","forceCluster","alpha","clusters","each","cluster","k","vx","vy","updateSimulations","simulation","_helper$getElements","keys","entityColors","nodeTypes","arr","radius","Math","cos","PI","random","sin","onTick","force","forceManyBody","strength","forceCollide","forceCenter","alphaTarget","velocityDecay","restart","tick","arcPath","getLinkColor","helper_this","isNeighborLink","getTextColor","neighbors","Array","isArray","getNodeLabel","preventDefault","fx","fy","containsNode","reduce","acc","prevNodes","newNodes","getNodeCount","l","selectedId","_l$property","property","publicationDay","publicationMonth","publicationYear","transition","duration","html","getNodeOpacity","getLinkOpacity","updateElementProperties","selectedEntityTypes","c","zoomFit","root","zoom","transitionDuration","bounds","getBBox","parent","parentElement","fullWidth","clientWidth","parentNode","fullHeight","clientHeight","midX","midY","translate","transform","zoomIdentity","select","shelf","publication_year","publication_month","publication_day","average_rating","getLinks","linkArc","dx","dy","dr","sqrt","linkLine","dir","sweep","x1","y1","x2","y2","siblings","linkIdx","scaleOrdinal","domain","range","arcScale","str","replace","Graph","dragDrop","entityTypeUpdate","getNeighbors","bind","assertThisInitialized","drawGraph","fade","reset","zoomIn","zoomOut","updateGraph","getLinkDistance","expandNode","initialRender","wait","nextProps","bookShelf","arguments","undefined","getNeighborsRaw","o","find","nodeId","_this$state2","_this$state3","zoomHandler","svg","scaleBy","_this$state4","clearTimeout","setPropertiesInfo","index","setTimeout","_this$state5","_this3","g","insert","linkForce","forceLink","distance","forceSimulation","drag","active","stop","parseInt","linkBgGroup","exitHandler","React","defaultProps","backgroundColor","cursor","overflow","imgStyle","LazyImage","_ref","photo","margin","direction","assign","e","BookShelf","books","react_photo_gallery_es","photos","book","small_image_url","tmp","title","obj","open","columns","ImageComponent","Node","clickHandler","doubleClickHandler","mouseOverHandler","mouseOutHandler","clickTimeout","onDoubleClick","_this$props","color","r","getThumbnail","img","shortText","textStyle","xlinkHref","clipPath","fontSize","fontWeight","Link","pointer","getPointer","markerEnd","getLabel","viewBox","refX","arrowOffset","refY","markerWidth","markerHeight","orient","startOffset","pointerEvents","textAnchor","Universe","getArcPath","clockwise","components_Link","components_Node","NetworkGraph","initSimulation","initZoomHandler","updateSimulation","createRef","interval","fps","millis","Date","now","current","newProps","_this4","_this5","attraceForceStrength","chargeStrength","collisionRadiusOffset","collisionStrength","animation","alphaStart","clusterRadiusScale","uniqBy","applyClusterForce","currentTime","payload","ref","components_Universe","minifyString","word","charAt","toUpperCase","join","BOOK","AUTHOR","PUBLISHER","read","to-read","currently-reading","Book","modalIsOpen","selectedModal","shelves","openModal","afterOpenModal","closeModal","rootElement","document","getElementById","favoriteBooks","react_modal_lib_default","isOpen","onAfterOpen","onRequestClose","overlayClassName","contentLabel","getModalContent","Common_BookShelf","readBooks","_getGraphData","bookNodes","authorNodes","publisherNodes","rb","crb","currentlyReading","trb","toRead","authors","$t","occurence","typeOccirence","image_url","publisher","values","getGraphData","ForceD3","_getGraphDataV","getGraphDataV2","Common_NetworkGraph","Interests","travel","Books","class","countriesVisited","WorldMap","Contact","handleUserInput","getValidationState","validateInputs","sendEmail","myEmail","message","nameValidation","emailValidation","messageValidation","isLoading","validaton","update","defineProperty","value","isEmpty","isEmail","prev","from","to","subject","fetch","method","body","JSON","stringify","headers","Accept","Content-Type","then","response","status","Error","json","alert","catch","validations","es","horizontal","controlId","validationState","placeholder","onChange","componentClass","rows","disabled","Footer","_this$state$quote","App","resumeData","ReactGA","initialize","testMode","pageview","location","pathname","getQuote","err","basics","interests","containers_Dashboard","containers_About","containers_Resume","containers_Interests","containers_Contact","Common_Footer","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error","ReactDOM","render","src_containers_App","URL","process","origin","addEventListener","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.70c06cd7.chunk.js","sourcesContent":["\nexports.quotesAPI = 'https://ptdwwoy2xc.execute-api.us-east-1.amazonaws.com/prod/quotes/random'\n\nexports.booksAPI = 'https://vqjx1jvwl3.execute-api.us-east-1.amazonaws.com/default/cgrb-api'\n","module.exports = __webpack_public_path__ + \"static/media/pp_with_linus.8a53edbd.jpg\";","import React, { Component } from 'react'\nimport Tilt from 'react-tilt'\nimport Particles from 'react-particles-js'\nimport PropTypes from 'prop-types'\nimport './styles.css'\nimport particlesConfig from '../../assets/particlesjs-config.json'\n\nclass Dashboard extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      name: props.name,\n      quote: props.quote\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({quote: props.quote})\n  }\n\n  render () {\n    const { quote } = this.state\n    return (\n      <React.Fragment>\n        <section id='home' className='large-header' >\n          <Particles\n            params={particlesConfig}\n          />\n          <div className='overlay'>\n            <Tilt\n              options={{\n                max: 25,\n                scale: 1.1\n              }}\n            >\n              <div className='main-title'>\n                {/* <h1 className='typewriter'>{name}</h1>\n                <br />\n                <br /> */}\n                <div className='content'>\n                  <p><i>{ quote.quote || '' }</i></p>\n                  <p><b>{ `-${quote.author || ''}` }</b></p>\n                </div>\n              </div>\n            </Tilt>\n          </div>\n        </section>\n      </React.Fragment>\n    )\n  }\n}\n\nDashboard.propTypes = {\n  name: PropTypes.string.isRequired,\n  quote: PropTypes.object\n}\n\nexport default Dashboard\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { getSocialIcon } from '../../../util'\nimport './styles.css'\n\nclass Profile extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      data: props.data\n    }\n  }\n\n  render () {\n    const {network, url} = this.state.data\n    return (\n      <div className='ico'>\n        <a className='no-underline' href={url}>\n          <span className='saucisson'>{getSocialIcon(network)}</span>\n        </a>\n      </div>\n    )\n  }\n}\n\nProfile.propTypes = {\n  data: PropTypes.object.isRequired\n}\n\nexport default Profile\n","\nconst getSocialIcon = social => {\n  // TODO: Add other social icons aswell\n  switch (social.toLowerCase()) {\n    case 'github':\n      return 'Q'\n    case 'twitter':\n      return 'a'\n    case 'instagram':\n      return 'x'\n    case 'linkedin':\n      return 'j'\n    default:\n      return '-'\n  }\n}\n\nexport { getSocialIcon }\n","import React, { Component } from 'react'\nimport Profile from '../Profile'\nimport PropTypes from 'prop-types'\n\nclass Social extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      data: props.data\n    }\n  }\n\n  render () {\n    const profiles = this.state.data\n    return (\n      profiles.map((profile, idx) => <Profile data={profile} key={idx} />)\n    )\n  }\n}\n\nSocial.propTypes = {\n  data: PropTypes.array.isRequired\n}\n\nexport default Social\n","import React, { Component } from 'react'\nimport LazyLoad from 'react-lazyload'\nimport Image from 'react-bootstrap/lib/Image'\nimport Tilt from 'react-tilt'\nimport PropTypes from 'prop-types'\nimport Glyphicon from 'react-bootstrap/lib/Glyphicon'\nimport './styles.css'\nimport ProfilePicture from '../../assets/images/pp_with_linus.jpg'\nimport Social from '../Common/Social'\n\nclass About extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      data: props.data\n    }\n  }\n\n  render () {\n    const {name, summary, profiles, email, phone} = this.state.data\n    return (\n      <React.Fragment>\n        <section className='row about' id='about'>\n          <div className='col-md-12 title'>\n            <h2>\n              <Glyphicon glyph='user' /> / About me\n            </h2>\n          </div>\n          <div className='col-md-12'>\n            <div className='content'>\n              <div className='about-holder'>\n                <div className='inner-title'>\n                  <h3>Hi</h3>\n                  <h3>my name is </h3>\n                  <h2>{name}</h2>\n                  <br />\n                  {\n                    summary.map((element, idx) => {\n                      if (element === '') {\n                        return <br key={idx} />\n                      }\n                      return <p key={idx}> {element} </p>\n                    })\n                  }\n                </div>\n                <div className='inner-content profile'>\n                  <div className='dl-btn'>\n                    <Social data={profiles.cv} />\n                    <p>See / Download My CV</p>\n                  </div>\n                  <div className='img-profile'>\n                    <Tilt\n                      options={{\n                        max: 25,\n                        scale: 1.15\n                      }}\n                    >\n                      <LazyLoad>\n                        <Image src={ProfilePicture} alt={name} circle />\n                      </LazyLoad>\n                    </Tilt>\n                  </div>\n                  <div className='fol-btn'>\n                    <Social data={profiles.social} />\n                    <p>Follow Me On</p>\n                  </div>\n                </div>\n                <div className='info'>\n                  <ul>\n                    <li>\n                      <div className='ico'>\n                        <a href={`mailto:${email}`}>\n                          <i className='glyphicon glyphicon-envelope' />\n                        </a>\n                      </div>\n                      <p><a href={`mailto:${email}`}>{email}</a></p>\n                    </li>\n                    <li>\n                      <div className='ico'>\n                        <a href={`tel:${phone}`}>\n                          <i className='glyphicon glyphicon-earphone' />\n                        </a>\n                      </div>\n                      <p><a href={`tel:${phone}`}>{phone}</a></p>\n                    </li>\n                    <li>\n                      <div className='ico'>\n                        <a href={`https://wa.me/${phone}`}>\n                          <span className='saucisson'>U</span>\n                        </a>\n                      </div>\n                      <p>\n                        <a href={`https://wa.me/${phone}`} >WhatsApp</a>\n                      </p>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </React.Fragment>\n    )\n  }\n}\n\nAbout.propTypes = {\n  data: PropTypes.object.isRequired\n}\n\nexport default About\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Glyphicon from 'react-bootstrap/lib/Glyphicon'\nimport { VerticalTimelineElement } from 'react-vertical-timeline-component'\nimport './styles.css'\nclass Company extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      data: props.data\n    }\n  }\n\n  getYear (date) {\n    return date.split('-')[0]\n  }\n\n  render () {\n    const {company, startDate, endDate, position, summary, website} = this.state.data\n    return (\n      <VerticalTimelineElement iconStyle={{display: 'none'}}>\n        <div className='work-item'>\n          <div className='work-ico'>\n            <Glyphicon glyph='briefcase' />\n          </div>\n          <div className='work-desc'>\n            <h4>\n              <a href={website} className='no-underline' >{company}</a>\n            </h4>\n            <h5>{position}</h5>\n            <h6>{startDate} - {endDate}</h6>\n            <p>{summary}</p>\n          </div>\n        </div>\n      </VerticalTimelineElement>\n    )\n  }\n}\n\nCompany.propTypes = {\n  data: PropTypes.object.isRequired\n}\n\nexport default Company\n","import React, { Component } from 'react'\nimport { VerticalTimeline } from 'react-vertical-timeline-component'\nimport 'react-vertical-timeline-component/style.min.css'\nimport Company from '../Company'\nimport PropTypes from 'prop-types'\n\nclass Work extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      companies: props.companies\n    }\n  }\n\n  render () {\n    const { companies } = this.state\n    return (\n      <div>\n        <div className='inner-title'>\n          <h3>My Experiences</h3>\n          <p>What I did in the past and what I am doing now.</p>\n        </div>\n        <div className='inner-content'>\n          <VerticalTimeline>\n            {\n              companies.map((company, i) => <Company data={company} key={i} />)\n            }\n          </VerticalTimeline>\n        </div>\n      </div>\n    )\n  }\n}\n\nWork.propTypes = {\n  companies: PropTypes.array.isRequired\n}\n\nexport default Work\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Glyphicon from 'react-bootstrap/lib/Glyphicon'\n\nclass Institution extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      data: props.data\n    }\n  }\n\n  getYear (date) {\n    return date.split('-')[0]\n  }\n\n  render () {\n    const {institution, startDate, endDate, studyType, area} = this.state.data\n    return (\n      <div className='col-md-6'>\n        <div className='work-item'>\n          <Glyphicon glyph='education' />\n          <div className='work-desc'>\n            <h4>\n              {institution}\n            </h4>\n            <h6>{this.getYear(startDate)} - {this.getYear(endDate)}</h6>\n            <p>\n              {studyType} : {area}\n            </p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nInstitution.propTypes = {\n  data: PropTypes.object.isRequired\n  // startDate: PropTypes.string.isRequired,\n  // endDate: PropTypes.string.isRequired,\n  // studyType: PropTypes.string.isRequired,\n  // area: PropTypes.string.isRequired\n}\n\nexport default Institution\n","import React, { Component } from 'react'\nimport Institution from '../Institution'\nimport PropTypes from 'prop-types'\n\nclass Education extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      institutions: props.institutions\n    }\n  }\n\n  /**\n   * Returns an array with arrays of the given size.\n   *\n   * @param myArray {Array} Array to split\n   * @param chunkSize {Integer} Size of every group\n   */\n  chunkArray (myArray, chunkSize) {\n    const cloneArray = myArray.slice()\n    const results = []\n\n    while (cloneArray.length) {\n      results.push(cloneArray.splice(0, chunkSize))\n    }\n    return results\n  }\n\n  render () {\n    const { institutions } = this.state\n    const groups = this.chunkArray(institutions, 2)\n    return (\n      <div>\n        <div className='inner-title'>\n          <h3>My Education</h3>\n          <p>\n              The studies which partially made the developer that I am\n              now.\n          </p>\n        </div>\n        <div className='inner-content'>\n          {\n            groups.map((group, idx) => {\n              return (\n                <div className='row' key={idx} >\n                  {group.map((inst, i) => <Institution data={inst} key={i} />)}\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nEducation.propTypes = {\n  institutions: PropTypes.array.isRequired\n}\n\nexport default Education\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Work from '../Common/Work'\nimport Glyphicon from 'react-bootstrap/lib/Glyphicon'\nimport Education from '../Common/Education'\nimport './styles.css'\n\nclass Resume extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      education: props.education,\n      work: props.work\n    }\n  }\n  render () {\n    const { education, work } = this.state\n    return (\n      <React.Fragment>\n        <section className='row resume' id='resume'>\n          <div className='col-md-12 title'>\n            <h2>\n              <Glyphicon glyph='briefcase' /> / Resume\n            </h2>\n          </div>\n          <div className='col-md-12'>\n            <div className='content'>\n              <Work companies={work} />\n              <div className='divider'>\n                <span>\n                  <i className='glyphicon glyphicon-star' />\n                </span>\n              </div>\n              <Education institutions={education} />\n            </div>\n          </div>\n        </section>\n      </React.Fragment>\n    )\n  }\n}\n\nResume.propTypes = {\n  education: PropTypes.array.isRequired,\n  work: PropTypes.array.isRequired\n}\n\nexport default Resume\n","import React, { Component } from 'react'\nimport {\n  ComposableMap,\n  Geographies,\n  Geography\n} from 'react-simple-maps'\nimport worldMap from '../../../assets/world-50m.json'\nimport './styles.css'\n\nclass Travel extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      countries: props.countries,\n      spanStyle: {\n        opacity: 0\n      }\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({countries: props.countries})\n  }\n\n  getFillColor (country, countries) {\n    if (countries.indexOf(country) > -1) {\n      return '#92c14d'\n    }\n    return '#999999'\n  }\n\n  getHoverColor (country, countries) {\n    if (countries.indexOf(country) > -1) {\n      return '#62912d'\n    }\n    return '#263238'\n  }\n\n  render () {\n    const { countries, country, spanStyle } = this.state\n    if (countries && countries.length > 0) {\n      return (\n        <div>\n          <React.Fragment>\n            <ComposableMap\n              projectionConfig={{\n                scale: 220,\n                rotation: [0, 0, 0],\n                yOffset: 70\n              }}\n              width={980}\n              height={551}\n              style={{\n                width: '100%',\n                height: 'auto'\n              }}\n            >\n              <Geographies geography={worldMap} >\n                {(geographies, projection) => geographies.map((geography, i) => (\n                  <Geography\n                    key={i}\n                    geography={geography}\n                    projection={projection}\n                    onClick={this.handleClick}\n                    onMouseEnter={(country) => {\n                      this.setState({\n                        country: country.properties.NAME\n                      })\n                    }}\n                    onMouseOver={(event) => {\n                      this.setState({\n                        spanStyle: {\n                          opacity: 1,\n                          left: event.clientX - ((window.screen.availWidth - 960) / 2),\n                          top: event.clientY\n                        }\n                      })\n                    }}\n                    onMouseOut={(country, event) => {\n                      this.setState({\n                        spanStyle: {\n                          opacity: 0\n                        }\n                      })\n                    }}\n                    style={{\n                      default: {\n                        fill: this.getFillColor(geography.properties.NAME, countries),\n                        stroke: '#607D8B',\n                        strokeWidth: 0.75,\n                        outline: 'none'\n                      },\n                      hover: {\n                        fill: this.getHoverColor(geography.properties.NAME, countries),\n                        stroke: '#607D8B',\n                        strokeWidth: 0.75,\n                        outline: 'none'\n                      },\n                      pressed: {\n                        fill: '#263238',\n                        stroke: '#607D8B',\n                        strokeWidth: 0.75,\n                        outline: 'none'\n                      }\n                    }}\n                  />\n                ))}\n              </Geographies>\n            </ComposableMap>\n          </React.Fragment>\n          <span className='countryTooltip' style={spanStyle}>{country}</span>\n        </div>\n      )\n    }\n    return <div />\n  }\n}\n\nexport default Travel\n","export default {\n  nodeOpacity: 0.05,\n  linkOpacity: 0.03,\n  labelLength: 5,\n  nodeSize: 25,\n  clickDelay: 200\n}\n","import {\n  select,\n  selectAll,\n  event\n} from 'd3-selection'\nimport {\n  forceManyBody,\n  forceCenter,\n  forceCollide\n} from 'd3-force'\nimport { zoomIdentity } from 'd3-zoom'\nimport { scaleOrdinal } from 'd3-scale'\nimport config from './config'\n\nconst helper = {}\nhelper.updateData = (context, diff) => {\n  const { links } = context.state\n  // remove nodes\n  diff.removed.forEach(node => {\n    context.nodes = context.nodes.filter(\n      n => !(n.id === node.id && n.type === node.type)\n    )\n    // context.nodes.splice(context.nodes.indexOf(node))\n  })\n  // add new nodes\n  diff.added.forEach(node => context.nodes.push(node))\n  // context.nodes = context.nodes.concat(diff.added)\n\n  context.links = []\n  // TODO: re-check\n  links.forEach(link => {\n    const sourceNode = context.nodes.filter(\n      n => n.id === link.source && n.type === link.sourceType\n    )[0]\n    const targetNode = context.nodes.filter(\n      n => n.id === link.target && n.type === link.targetType\n    )[0]\n    if (sourceNode && targetNode) {\n      context.links.push({\n        ...link,\n        source: sourceNode,\n        target: targetNode\n      })\n    }\n  })\n}\n\nhelper.updateLinks = context => {\n  const {\n    linkGroup,\n    // linkBgGroup,\n    linkTextGroup,\n    tooltip\n  } = context.state\n  // link line\n  const linkElements = linkGroup\n    .selectAll('path')\n    .data(context.links, link => link.target.id + link.source.id)\n  linkElements.exit().remove()\n  const linkEnter = linkElements\n    .enter()\n    .append('path')\n    .attr('class', 'link')\n    .attr('id', d => `${d.source.id}_${d.type}_${d.target.id}`)\n    .attr('stroke-width', 1.5)\n    .attr('fill', 'none')\n    .attr('stroke', 'rgba(50, 50, 50, 0.2)')\n    .attr('marker-end', 'url(#end)')\n    .style('opacity', 0)\n    // .style('display', 'none')\n    .on('click', link => {\n      context.selectLink(link)\n    })\n    .on('mouseover', node => helper.handleMuseOver(node, tooltip, context))\n    .on('mouseout', link => helper.handleMuseOut(link, tooltip))\n\n  // link label bg line\n  // const linkBgElements = linkBgGroup\n  //   .selectAll('text')\n  //   .data(context.links, link => `${link.target.id}${link.source.id}`)\n  // linkBgElements.exit().remove()\n  // const linkBgEnter = linkBgElements\n  //   .enter()\n  //   .append('text')\n  //   .style('pointer-events', 'none')\n  //   .attr('fill', '#fff')\n  //   .attr('font-size', 10)\n  //   .attr('id', (link, i) => `linkBg${i}`)\n  //   .attr('class', 'linkbg')\n  //   .attr('dx', 0)\n  //   .attr('dy', 5)\n  //   .style('text-anchor', 'middle')\n  //   .style('pointer-events', 'none')\n  //   .attr('startOffset', '50%')\n  //   .attr('filter', 'url(#solid)')\n  //   .style('opacity', l =>\n  //     selectedEntityTypes.length === 0 ||\n  //     (selectedEntityTypes.indexOf(l.source.type) > -1 &&\n  //       selectedEntityTypes.indexOf(l.target.type) > -1)\n  //       ? '1'\n  //       : config.linkOpacity\n  //   )\n  //   .text(link => link.type)\n  //   .on('click', link => {\n  //     context.selectLink(link)\n  //   })\n  //   .on('mouseover', node => helper.handleMuseOver(node, tooltip))\n  //   .on('mouseout', link => helper.handleMuseOut(link, tooltip))\n\n  // link labels\n  const linkLabelElements = linkTextGroup\n    .selectAll('text')\n    .data(context.links, link => `${link.target.id}${link.source.id}`)\n  linkLabelElements.exit().remove()\n  const linkLabelEnter = linkLabelElements\n    .enter()\n    .append('text')\n    .attr('class', 'linklabel')\n    .on('click', link => {\n      console.log('link click')\n    })\n    .style('opacity', 0)\n    // .style('display', 'none')\n    .append('textPath')\n    .style('pointer-events', 'none')\n    .attr('fill', '#333')\n    .attr('font-size', 10)\n    .attr('id', (link, i) => `linklabel${i}`)\n    .attr('dx', 0)\n    .attr('dy', 5)\n    .attr('xlink:href', d => `#${d.source.id}_${d.type}_${d.target.id}`)\n    .style('text-anchor', 'middle')\n    // .style('pointer-events', 'none')\n    .attr('startOffset', '50%')\n    .text(link => link.type)\n    .on('mouseover', node => helper.handleMuseOver(node, tooltip, context))\n    .on('mouseout', link => helper.handleMuseOut(link, tooltip))\n\n  return {\n    linkElements: linkEnter.merge(linkElements),\n    // linkBgElements: linkBgEnter.merge(linkBgElements),\n    linkLabelElements: linkLabelEnter.merge(linkLabelElements)\n  }\n}\n\nhelper.updateNodes = context => {\n  const {\n    nodeGroup,\n    textGroup,\n    // dragDrop,\n    tooltip\n  } = context.state\n  // nodes\n  const nodeElements = nodeGroup\n    .selectAll('circle')\n    .data(context.nodes, node => node.id)\n  nodeElements.exit().remove()\n  const nodeEnter = nodeElements\n    .enter()\n    .append('g')\n    .attr('class', 'node')\n    .attr('id', node => `node-${helper.cleanupString(node.id + node.type)}`)\n\n  nodeEnter\n    .append('defs')\n    .append('clipPath')\n    .attr('id', node => `thumbnailClip_${node.id}`)\n    .append('circle')\n    .attr('r', node => helper.getNodeSize(node) - 1)\n    .attr('fill', '#fff')\n\n  nodeEnter\n    .append('circle')\n    .attr('r', helper.getNodeSize)\n    .attr('fill', node => {\n      if (node.type === 'PUBLISHER') {\n        // return context.getNodeColor(node)\n        // return '#7D4427'\n        return '#DDA487'\n      }\n      return '#fff'\n    })\n    // .attr('fill', context.getNodeColor)\n    .attr('stroke', context.getNodeColor)\n    .attr('stroke-width', '3px')\n    // .attr('stroke-dasharray', '10 5')\n  // .style(\n  //   'opacity',\n  //   c =>\n  //     selectedEntityTypes.length === 0 ||\n  //     selectedEntityTypes.indexOf(c.type) > -1\n  //       ? '1'\n  //       : config.nodeOpacity\n  // )\n  nodeEnter\n    .append('image')\n    .attr('xlink:href', d => d.thumbnail_url)\n    .attr('clip-path', node => `url(#thumbnailClip_${node.id})`)\n    .attr('x', node => -helper.getNodeSize(node))\n    .attr('y', node => -helper.getNodeSize(node))\n    .attr('width', node => helper.getNodeSize(node) * 2.2)\n  // .attr('height', node => node.type === 'AUTHOR' ? helper.getNodeSize(node) * 2 : null)\n  // .attr('width', node => node.type === 'BOOK' ? helper.getNodeSize(node) * 2 : null)\n\n  nodeEnter\n    // .call(dragDrop)\n    // .on('dblclick', context.expandNode)\n    .on('click', context.selectNode)\n    .on('contextmenu', node => helper.rightClick(node, context))\n    .on('mousemove', node => helper.onMouseMove(node, tooltip))\n    .on('mouseover', helper.onMouseOver)\n    .on('mouseout', helper.onMouseOut)\n    // .on('mouseover', node => helper.onMouseOver(node, tooltip))\n    // .on('mouseout', node => helper.onMouseOut(node, tooltip))\n\n  // text\n  const textElements = textGroup\n    .selectAll('text')\n    .data(context.nodes, node => node.id)\n  textElements.exit().remove()\n\n  // Disable textElement\n  // const textEnter = textElements\n  //   .enter()\n  //   .append('text')\n  //   .text(node => helper.getNodeLabel(node))\n  //   .attr(\n  //     'id',\n  //     node => `nodeLabel-${helper.cleanupString(node.id + node.type)}`\n  //   )\n  //   .attr('font-size', 14)\n  //   .attr('dx', -config.nodeSize + 3)\n  //   .attr('dy', 4)\n  //   .attr('fill', '#fff')\n  //   .call(dragDrop)\n  //   // .on('dblclick', context.expandNode)\n  //   .on('click', context.selectNode)\n  //   .on('contextmenu', node => helper.rightClick(node, context))\n  //   .on('mouseover', node => helper.onMouseOver(node, tooltip))\n  //   .on('mousemove', node => helper.onMouseMove(node, tooltip))\n  //   .on('mouseout', node => helper.onMouseOut(node, tooltip))\n\n  return {\n    // textElements: textEnter.merge(textElements),\n    textElements,\n    nodeElements: nodeEnter.merge(nodeElements)\n  }\n}\n\nhelper.getElements = context => {\n  // get link elements\n  const {\n    linkElements,\n    // linkBgElements,\n    linkLabelElements\n  } = helper.updateLinks(context)\n\n  // get node elements\n  const { nodeElements, textElements, tooltipElements } = helper.updateNodes(\n    context\n  )\n\n  return {\n    linkElements,\n    // linkBgElements,\n    linkLabelElements,\n    nodeElements,\n    textElements,\n    tooltipElements\n  }\n}\n\n// node cluster handler\nhelper.forceCluster = (alpha, nodes, clusters) => {\n  nodes.each(node => {\n    // if (node.type === 'BOOK') {\n    const cluster = clusters[node.type]\n    if (cluster.x !== node.x && cluster.y !== node.y) {\n      const k = alpha * 0.5\n      node.vx -= (node.x - cluster.x) * k\n      node.vy -= (node.y - cluster.y) * k\n    }\n  })\n}\n\nhelper.updateSimulations = context => {\n  const { simulation } = context.state\n  const {\n    linkElements,\n    // linkBgElements,\n    linkLabelElements,\n    nodeElements,\n    textElements\n  } = helper.getElements(context)\n\n  // clustering\n  // const clusters = {}\n  // Object.keys(context.props.entityColors.bookShelf).forEach((shelf, idx, arr) => {\n  //   if (!clusters[shelf]) {\n  //     clusters[shelf] = {\n  //       x: (context.state.width / arr.length) * idx,\n  //       y: (context.state.height / arr.length) * idx\n  //     }\n  //   }\n  // })\n  const clusters = {}\n  Object.keys(context.props.entityColors.nodeTypes).forEach((type, idx, arr) => {\n    if (!clusters[type]) {\n      const radius = context.state.width > context.state.height ? context.state.width / 2 : context.state.height / 2\n      clusters[type] = {\n        x: Math.cos((idx + 1) / arr.length * 2 * Math.PI) * radius + context.state.width / 2 + Math.random(),\n        y: Math.sin((idx + 1) / arr.length * 2 * Math.PI) * radius + context.state.height / 2 + Math.random(),\n        radius\n      }\n    }\n  })\n\n  simulation\n    .nodes(context.nodes)\n    .on('tick', () =>\n      helper.onTick(\n        context,\n        linkElements,\n        // linkBgElements,\n        linkLabelElements,\n        nodeElements,\n        textElements\n      )\n    )\n  simulation.force('link').links(context.links)\n  simulation\n    .force('attraceForce', forceManyBody().strength(-500))\n    .force('charge', forceManyBody().strength(-100))\n    .force(\n      'collision',\n      forceCollide()\n        .radius(node => helper.getNodeSize(node) + 15)\n        .strength(0.7)\n    )\n    .force(\n      'center',\n      forceCenter(context.state.width / 2, context.state.height / 2)\n    )\n    // .force('x', forceX().x(d => {\n    //   if (d.type === 'PUBLISHER') return (context.state.width / 3) * 0.5\n    //   if (d.type === 'AUTHOR') return (context.state.width / 3) * 1.5\n    //   if (d.type === 'BOOK') return (context.state.width / 3) * 2.5\n    // }))\n    // .force('y', forceY().y(d => {\n    //   if (d.type === 'PUBLISHER') return 10\n    //   if (d.type === 'AUTHOR') return context.state.height / 2\n    //   if (d.type === 'BOOK') return context.state.height\n    // }))\n    .force('cluster', alpha =>\n      helper.forceCluster(alpha, nodeElements, clusters)\n    )\n\n  // if (context.initialRender) {\n  //   simulation.force(\n  //     'center',\n  //     forceCenter(context.state.width / 2, context.state.height / 2)\n  //   )\n  //   setTimeout(() => {\n  //     // simulation.force('center', null)\n  //     simulation.stop()\n  //     if (context.initialRender) {\n  //       // helper.zoomFit(select('.d3graph'), zoomHandler, 500)\n  //       context.initialRender = false\n  //     }\n  //   }, 1000)\n  // }\n  // simulation.alphaTarget(1).restart()\n  simulation\n    .alpha(0.4)\n    .alphaTarget(0)\n    .velocityDecay(0.15)\n    .restart()\n    // .on('end', () => {\n    //   if (context.initialRender) {\n    //     // simulation\n    //     //   .force('cluster', null)\n    //     //   .force('attraceForce', forceManyBody().strength(-7))\n    //     //   .force('charge', forceManyBody().strength(7))\n    //     simulation.stop()\n    //     // helper.zoomFit(select('.d3graph'), zoomHandler, 200)\n    //     context.initialRender = false\n    //   }\n    // })\n  // spped up simulation\n  while (simulation.alpha() >= 0.02) {\n    simulation.tick()\n  }\n}\n\n/**\n * Gives the coordinates of the border for keeping the nodes inside a frame\n * http://bl.ocks.org/mbostock/1129492\n */\nfunction nodeTransform (d) {\n  // d.x = Math.max(config.nodeSize, Math.min(w - (d.imgwidth / 2 || 16), d.x))\n  // d.y = Math.max(config.nodeSize, Math.min(h - (d.imgheight / 2 || 16), d.y))\n  return `translate(${d.x},${d.y})`\n}\n\nhelper.onTick = (\n  context,\n  linkElements,\n  // linkBgElements,\n  linkLabelElements,\n  nodeElements,\n  textElements\n) => {\n  // nodeElements.attr('cx', node => node.x).attr('cy', node => node.y)\n  nodeElements.attr('transform', nodeTransform)\n  // nodeElements.attr('x', node => node.x).attr('y', node => node.y)\n  textElements.attr('x', node => node.x).attr('y', node => node.y)\n  // TODO: re-check link.source.x\n  /* linkElements\n    .attr('x1', link => link.source.x)\n    .attr('y1', link => link.source.y)\n    .attr('x2', link => link.target.x)\n    .attr('y2', link => link.target.y) */\n  // arrowElements.attr('d', helper.linkLine)\n  linkElements.attr('d', d => helper.arcPath(true, d, context))\n  // linkBgElements.attr('transform', d => {\n  //   const angle =\n  //     (Math.atan((d.source.y - d.target.y) / (d.source.x - d.target.x)) * 180) /\n  //     Math.PI\n  //   return `translate(${[\n  //     (d.source.x + d.target.x) / 2,\n  //     (d.source.y + d.target.y) / 2\n  //   ]})rotate(${angle})`\n  // })\n  /* linkLabelElements.attr('transform', d => {\n    const angle =\n      Math.atan((d.source.y - d.target.y) / (d.source.x - d.target.x)) *\n      180 /\n      Math.PI\n    return `translate(${[\n      (d.source.x + d.target.x) / 2,\n      (d.source.y + d.target.y) / 2\n    ]})rotate(${angle})`\n  }) */\n}\n\nhelper.getNodeSize = node => {\n  // const mode = 'rating'\n\n  // let diameter = config.nodeSize\n  // let minp = 1\n  // let maxp = 1000\n  // let position = (typeof node.num_pages === 'undefined' || typeof node.num_pages === 'object') ? 500 : parseInt(node.num_pages)\n\n  // if (mode === 'rating') {\n  //   minp = 0\n  //   maxp = 5\n  //   position = node.average_rating\n\n  //   const minv = Math.log(config.nodeSize - 10)\n  //   const maxv = Math.log(config.nodeSize + 10)\n\n  //   // calculate adjustment factor\n  //   const scale = (maxv - minv) / (maxp - minp)\n\n  //   diameter = parseInt(Math.exp(minv + scale * (position - minp)))\n  // } else if (mode === 'pages') {\n  //   const minv = config.nodeSize - 10\n  //   const maxv = config.nodeSize + 10\n\n  //   // calculate adjustment factor\n  //   const scale = (maxv - minv) / (maxp - minp)\n\n  //   diameter = parseInt(minv + scale * (position - minp))\n  // }\n\n  // console.log(`${node.text} - ${mode}(${JSON.stringify(position, null, 2)}) : ${diameter} : ${node.num_pages}`)\n  // return diameter\n  return config.nodeSize + 10\n  // if (node.type === 'AUTHOR') {\n  //   return config.nodeSize + 10\n  // }\n  // return config.nodeSize - 2\n}\n\nhelper.getLinkColor = (node, link) =>\n  this.isNeighborLink(node, link) ? 'black' : '#E5E5E5'\n\nhelper.getTextColor = (node, neighbors) =>\n  Array.isArray(neighbors) && neighbors.indexOf(node.id) > -1\n    ? 'green'\n    : 'black'\n\n// helper.getLinkDistance = link => {\n// if (link.source.level === 1 && link.target.level === 1) {\n// return 400\n// }\n// return helper.getNodeCount(link.target, this.nodes) * 30\n\n// // return 200\n// }\n\nhelper.getNodeLabel = node =>\n  // Array.isArray(neighbors) && neighbors.indexOf(node.id) > -1 ? node.label : ''\n  node.id.length > config.labelLength\n    ? `${node.id.slice(0, config.labelLength)}`\n    : node.id\n\nhelper.isNeighborLink = (node, link) =>\n  link.target.id === node.id || link.source.id === node.id\n\nhelper.rightClick = (node, context) => {\n  event.preventDefault()\n  const { simulation } = context.state\n  node.fx = null\n  node.fy = null\n  simulation\n    .alpha(0.15)\n    .alphaTarget(0)\n    .velocityDecay(0.3)\n    .restart()\n  // simulation.alphaTarget(0.5).restart()\n  // setTimeout(() => {\n  //   simulation.stop()\n  // }, 500)\n}\n\nhelper.containsNode = (node, nodes) =>\n  nodes.reduce((acc, n) => {\n    if (n.id === node.id) {\n      acc.push(n)\n    }\n    return acc\n  }, []).length > 0\n    ? 1\n    : 0\n\nhelper.diff = (prevNodes, newNodes) => ({\n  removed: prevNodes.filter(node => helper.containsNode(node, newNodes) === 0),\n  added: newNodes.filter(node => helper.containsNode(node, prevNodes) === 0)\n})\n\nhelper.getNodeCount = (node, nodes) =>\n  nodes.reduce((acc, n) => {\n    if (n.type === node.type) {\n      acc.push(n)\n    }\n    return acc\n  }, []).length\n\nhelper.handleMuseOver = (l, tooltip, context) => {\n  const { selectedId } = context\n  if (l.source.id === selectedId || l.target.id === selectedId) {\n    // Display tooltip to show link property\n    const {publicationDay, publicationMonth, publicationYear} = l.property\n    const text = `Published: <i>${publicationDay}/${publicationMonth}/${publicationYear}</i>`\n    tooltip\n      .transition()\n      .duration(200)\n      .style('opacity', '1')\n    tooltip\n      .html(text)\n      .style(\n        'transform',\n        `translateX(${event.x + 15}px) translateY(${event.y}px)`\n      )\n  }\n  // select(x[i]).attr('stroke-width', 2)\n}\n\nhelper.handleMuseOut = (l, tooltip) => {\n  // select(x[i]).attr('stroke-width', 1.5)\n  tooltip\n    .transition()\n    .duration(100)\n    .style('opacity', '0')\n}\n\nhelper.getNodeOpacity = (node, neighbors) => {\n  if (Array.isArray(neighbors) && neighbors.indexOf(node.id + node.type) > -1) {\n    return '1'\n  }\n  return config.nodeOpacity\n}\n\nhelper.getLinkOpacity = (link, neighbors) => {\n  if (\n    Array.isArray(neighbors) &&\n    neighbors.indexOf(link.source.id + link.source.type) > -1 &&\n    neighbors.indexOf(link.target.id + link.target.type) > -1\n  ) {\n    return '1'\n  }\n  return config.linkOpacity\n}\nhelper.updateElementProperties = selectedEntityTypes => {\n  selectAll('.node').style('opacity', c =>\n    selectedEntityTypes.length === 0 || selectedEntityTypes.indexOf(c.type) > -1\n      ? '1'\n      : config.nodeOpacity\n  )\n  selectAll('.link').style('opacity', l =>\n    selectedEntityTypes.length === 0 ||\n    (selectedEntityTypes.indexOf(l.source.type) > -1 &&\n      selectedEntityTypes.indexOf(l.target.type) > -1)\n      ? '1'\n      : config.linkOpacity\n  )\n  selectAll('.linklabel').style('opacity', l =>\n    selectedEntityTypes.length === 0 ||\n    (selectedEntityTypes.indexOf(l.source.type) > -1 &&\n      selectedEntityTypes.indexOf(l.target.type) > -1)\n      ? '1'\n      : config.linkOpacity\n  )\n}\nhelper.zoomFit = (root, zoom, transitionDuration) => {\n  const bounds = root.node().getBBox()\n  const parent = root.node().parentElement\n  // const currentScale = root.node().__zoom.k\n  const fullWidth = parent.clientWidth || parent.parentNode.clientWidth\n  const fullHeight = parent.clientHeight || parent.parentNode.clientHeight\n  const { width, height } = bounds\n  const midX = bounds.x + width / 2\n  const midY = bounds.y + height / 2\n  if (width === 0 || height === 0) return // nothing to fit\n  const scale = 0.85 / Math.max(width / fullWidth, height / fullHeight)\n  const translate = [\n    fullWidth / 2 - scale * midX,\n    fullHeight / 2 - scale * midY\n  ]\n\n  root\n    .transition()\n    .duration(transitionDuration || 0) // milliseconds\n    .call(\n      zoom.transform,\n      zoomIdentity.translate(translate[0], translate[1]).scale(scale)\n    )\n}\n\nhelper.onMouseOver = (d, i, x) => {\n  const tooltip = select('.tooltip')\n  const text =\n    d.type === 'BOOK'\n      ? `${d.text} : <i>${d.property.shelf}</i><br />Published: ${d.publicationYear}-${d.publicationMonth}-${d.publicationDay}`\n      : `${d.type}: <i>${d.text}</i>`\n  // TODO: scale\n  // select(x[i])\n  //   .transition()\n  //   .duration(200)\n  //   .attr('transform', `translate(${d.x},${d.y}) scale(1.4)`)\n  tooltip\n    .transition()\n    .duration(200)\n    .style('opacity', '1')\n  tooltip\n    .html(text)\n    .style(\n      'transform',\n      `translateX(${event.x + 15}px) translateY(${event.y}px)`\n    )\n}\n\nhelper.onMouseOut = (d, i, x) => {\n  const tooltip = select('.tooltip')\n  tooltip\n    .transition()\n    .duration(100)\n    .style('opacity', '0')\n  // TODO: scale\n  // select(x[i])\n  //   .transition()\n  //   .duration(200)\n  //   .attr('transform', `translate(${d.x},${d.y})`)\n}\n\nhelper.onMouseMove = (d, tooltip) => {\n  let text = `${d.type}: <i>${d.text}</i>`\n\n  if (d.type === 'BOOK') {\n    text = `${d.text} <i>(${d.publication_year}-${d.publication_month}-${d.publication_day})</i>`\n  } else if (d.type === 'AUTHOR') {\n    text = `${d.text} <i>(${d.average_rating})</i>`\n  }\n  tooltip\n    .html(text)\n    .style(\n      'transform',\n      `translateX(${event.x + 15}px) translateY(${event.y}px)`\n    )\n}\n\n// links\nhelper.getLinks = (source, target, context) =>\n  context.links\n    .filter(\n      link =>\n        link.source.id === source.id &&\n        link.source.type === source.type &&\n        link.target.id === target.id &&\n        link.target.type === target.type\n    )\n    .map(l => l.type)\n\nhelper.linkArc = d => {\n  const dx = d.target.x - d.source.x\n  const dy = d.target.y - d.source.y\n  const dr = Math.sqrt(dx * dx + dy * dy)\n  return `M${d.source.x},${d.source.y}A${dr},${dr} 0 0,1 ${d.target.x},${\n    d.target.y\n  }`\n}\nhelper.linkLine = d =>\n  `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`\n\nhelper.arcPath = (dir, d, context) => {\n  const x1 = dir ? d.source.x : d.target.x\n  const y1 = dir ? d.source.y : d.target.y\n  const x2 = dir ? d.target.x : d.source.x\n  const y2 = dir ? d.target.y : d.source.y\n  const dx = x2 - x1\n  const dy = y2 - y1\n  const siblings = helper.getLinks(d.source, d.target, context)\n  // const siblingCount = siblings.length\n  const siblingCount = 2\n  const xRotation = 0\n  const largeArc = 0\n\n  if (siblingCount > 1) {\n    // console.log(siblings)\n    const arcScale = scaleOrdinal()\n      .domain(siblings)\n      .range([1, siblingCount])\n    const linkIdx = arcScale(d.type)\n    let scale\n    let sweep\n    if (linkIdx === 1) {\n      sweep = 1\n      scale = 1\n      // return `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`\n    } else if (linkIdx % 2 === 0) {\n      sweep = 0\n      scale = linkIdx / 2\n    } else if (linkIdx % 3 === 0) {\n      sweep = 1\n      scale = linkIdx / 3 + 1\n    }\n    const dr =\n      Math.sqrt(dx * dx + dy * dy) / (1 + (1 / siblingCount) * (scale - 1))\n    return `M${x1},${y1}A${dr * 1.7},${dr *\n      1.7} ${xRotation}, ${largeArc}, ${sweep} ${x2},${y2}`\n  }\n  return `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`\n}\n\nhelper.cleanupString = str => str.replace(/\\W+/g, '_')\n\nexport default helper\n","import React from 'react'\nimport { select, event } from 'd3-selection'\nimport { forceLink, forceSimulation } from 'd3-force'\nimport { zoom } from 'd3-zoom'\nimport { drag } from 'd3-drag'\nimport PropTypes from 'prop-types'\nimport Glyphicon from 'react-bootstrap/lib/Glyphicon'\nimport helper from './helper'\nimport config from './config'\n\nimport './styles.scss'\n\n// TODO: click actions, legend, filter\nclass Graph extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      width: props.width,\n      height: props.height,\n      selectedId: null,\n      linkGroup: null,\n      nodeGroup: null,\n      textGroup: null,\n      dragDrop: null,\n      simulation: null,\n      entityTypeUpdate: false\n    }\n    this.getNeighbors = this.getNeighbors.bind(this)\n    this.getNodeColor = this.getNodeColor.bind(this)\n    this.drawGraph = this.drawGraph.bind(this)\n    this.fade = this.fade.bind(this)\n    this.reset = this.reset.bind(this)\n    this.zoomIn = this.zoomIn.bind(this)\n    this.zoomOut = this.zoomOut.bind(this)\n    this.selectNode = this.selectNode.bind(this)\n    this.selectLink = this.selectLink.bind(this)\n    this.updateGraph = this.updateGraph.bind(this)\n    this.getLinkDistance = this.getLinkDistance.bind(this)\n    this.expandNode = this.expandNode.bind(this)\n    this.nodes = []\n    this.links = []\n    this.selectedId = null\n    this.initialRender = true\n    this.wait = null\n  }\n\n  componentDidMount () {\n    this.drawGraph()\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({\n      ...nextProps\n    })\n    if (\n      nextProps.selectedEntityTypes.length !==\n      this.state.selectedEntityTypes.length\n    ) {\n      this.setState({ entityTypeUpdate: true })\n    } else {\n      this.setState({ entityTypeUpdate: false })\n    }\n  }\n\n  getNeighbors (node) {\n    const { selectedEntityTypes } = this.state\n    return this.links.reduce(\n      (neighbors, link) => {\n        if (link.target.id === node.id && link.target.type === node.type) {\n          neighbors.push(link.source.id + link.source.type)\n        } else if (\n          link.source.id === node.id &&\n          link.source.type === node.type\n        ) {\n          neighbors.push(link.target.id + link.target.type)\n        } else if (selectedEntityTypes.indexOf(link.source.type) > -1) {\n          neighbors.push(link.source.id + link.source.type)\n        } else if (selectedEntityTypes.indexOf(link.target.type) > -1) {\n          neighbors.push(link.target.id + link.target.type)\n        }\n        return neighbors\n      },\n      [node.id + node.type]\n    )\n  }\n\n  getNeighborsRaw (node) {\n    return this.links.reduce(\n      (neighbors, link) => {\n        if (link.target.id === node.id) {\n          neighbors.push(link.source.id)\n        } else if (link.source.id === node.id) {\n          neighbors.push(link.target.id)\n        }\n        return neighbors\n      },\n      [node.id]\n    )\n  }\n\n  getNodeColor (node) {\n    if (node.type === 'BOOK') {\n      return this.props.entityColors.bookShelf[node.property.shelf]\n    }\n    return this.props.entityColors.nodeTypes[node.type]\n  }\n\n  getLinkDistance (link) {\n    // TODO: Fix this\n    /* if (link.sourceLevel === 1 && link.targetLevel === 1) {\n      return 400\n    }\n    const count = helper.getNodeCount(link.source, this.nodes)\n    if (count < 5) {\n      return 140\n    } else if (count < 10) {\n      return 200\n    } else if (count < 20) {\n      return 260\n    } */\n    return 450\n    // return 200\n  }\n\n  fade (d, opacity = 0.07) {\n    const {\n      nodeGroup,\n      linkGroup,\n      linkTextGroup\n    } = this.state\n    const neighbors = this.getNeighborsRaw(d)\n    nodeGroup\n      .selectAll('g')\n      .style('opacity', (o) => {\n        let thisOpacity = neighbors.find(nodeId => nodeId === o.id) ? 1 : opacity\n        return thisOpacity\n      })\n\n    linkGroup\n      .selectAll('path')\n      .style('opacity', (o) => {\n        return o.source === d || o.target === d ? 1 : 0\n      })\n      .attr('marker-end', (o) => {\n        return o.source === d || o.target === d ? 'url(#end)' : 'url(#endTransparent)'\n      })\n\n    linkTextGroup\n      .selectAll('text')\n      .style('opacity', (o) => {\n        return o.source === d || o.target === d ? 1 : 0\n      })\n  }\n\n  reset () {\n    const {\n      nodeGroup,\n      linkGroup,\n      linkTextGroup\n    } = this.state\n    nodeGroup\n      .selectAll('g')\n      .style('opacity', 1)\n\n    linkGroup\n      .selectAll('path')\n      .style('opacity', 0)\n      .attr('marker-end', 'url(#end)')\n\n    linkTextGroup\n      .selectAll('text')\n      .style('opacity', 0)\n  }\n\n  zoomIn () {\n    const { zoomHandler, svg } = this.state\n    zoomHandler.scaleBy(svg.transition().duration(200), 1.5)\n  }\n\n  zoomOut () {\n    const { zoomHandler, svg } = this.state\n    zoomHandler.scaleBy(svg.transition().duration(200), 1 / 1.5)\n  }\n\n  selectNode (node) {\n    if (this.wait) {\n      clearTimeout(this.wait)\n      this.wait = null\n      this.expandNode(node)\n      this.props.setPropertiesInfo({\n        type: 'nodes',\n        index: this.props.nodes.map(n => n.id).indexOf(node.id)\n      })\n    } else {\n      this.wait = setTimeout(() => {\n        if (!(this.selectedId === node.id)) {\n          // this.selectedId = null\n          this.selectedId = node.id\n          this.fade(node)\n          this.props.setPropertiesInfo({\n            type: 'nodes',\n            index: this.props.nodes.map(n => n.id).indexOf(node.id)\n          })\n        } else {\n          this.reset()\n        }\n        this.wait = null\n      }, config.clickDelay)\n    }\n  }\n\n  selectLink (link) {\n    console.log(link)\n    this.props.setPropertiesInfo({\n      type: 'links',\n      index: this.props.links\n        .map(l => l.source + l.target + l.type)\n        .indexOf(link.source.id + link.target.id + link.type)\n    })\n  }\n\n  expandNode (node) {\n    select(`#node-${helper.cleanupString(node.id + node.type)}`)\n      .attr('stroke', '#222')\n      .attr('stroke-width', '1.5px')\n    this.props.expandNode(node)\n  }\n\n  updateGraph () {\n    const { nodeGroup, nodes, links, selectedEntityTypes } = this.state\n    if (nodeGroup) {\n      const diff = helper.diff(this.nodes, nodes)\n      console.log('DIFF', {\n        added: diff.added.length,\n        removed: diff.removed.length\n      })\n      // check if any nodes are to be added/removed\n      if (\n        diff.added.length > 0 ||\n        diff.removed.length > 0 ||\n        links.length !== this.links.length\n      ) {\n        // update data\n        helper.updateData(this, diff)\n        // update simulations\n        helper.updateSimulations(this)\n      }\n      if (this.state.entityTypeUpdate) {\n        helper.updateElementProperties(selectedEntityTypes)\n      }\n    }\n  }\n\n  drawGraph () {\n    const svg = select('.d3graph')\n    // add master element for the zoom\n    const g = svg.insert('g', ':first-child').attr('class', 'universe')\n    // define div for tooltip\n    const tooltip = select('.tooltip')\n    /* if (tooltip.node() === null) {\n      tooltip = select('body')\n        .append('div')\n        .attr('class', 'tooltip')\n        .style('opacity', 0)\n    } */\n    // simulation setup with link force\n    const linkForce = forceLink()\n      .id(link => link.id)\n      .strength(0.2)\n      .distance(link => this.getLinkDistance(link))\n    const simulation = forceSimulation().force('link', linkForce)\n\n    const dragDrop = drag()\n      .on('start', node => {\n        if (!event.active) {\n          simulation\n            .alpha(0.1)\n            .alphaTarget(0.05)\n            .velocityDecay(0.3)\n            .restart()\n        }\n        node.fx = node.x\n        node.fy = node.y\n      })\n      .on('drag', node => {\n        // simulation.alphaTarget(0.7).restart()\n        tooltip.transition()\n          .duration(100)\n          .style('opacity', '0')\n        node.fx = event.x\n        node.fy = event.y\n      })\n      .on('end', () => {\n        if (!event.active) {\n          // simulation.alphaTarget(0.1)\n          simulation.stop()\n        }\n      })\n    // add zoom capabilities\n    const zoomHandler = zoom().on('zoom', () => {\n      g.attr('transform', event.transform)\n      select('.zoomIndicator').text(`\n        ${parseInt(event.transform.k * 100, 10)}%\n      `)\n    })\n    // build link arrow and link label bg\n    g.html(\n      '<defs><filter x=\"0\" y=\"0.28\" width=\"1\" height=\"0.25\" id=\"solid\"><feFlood flood-color=\"white\"/></filter><marker id=\"end\" viewBox=\"0 -5 10 10\" refX=\"37\" refY=\"0\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto\"><path d=\"M0,-5L10,0L0,5\" fill=\"#666\" style=\"opacity: 1;\" /></marker><marker id=\"endTransparent\" viewBox=\"0 -5 10 10\" refX=\"37\" refY=\"0\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto\"><path d=\"M0,-5L10,0L0,5\" fill=\"#666\" style=\"opacity: 0.1;\" ></path></marker></defs>'\n    )\n    const linkGroup = g.append('g').attr('class', 'links')\n    const linkBgGroup = g.append('g').attr('class', 'linkbgs')\n    const linkTextGroup = g.append('g').attr('class', 'linklabels')\n    const nodeGroup = g.append('g').attr('class', 'nodes')\n    const textGroup = g.append('g').attr('class', 'texts')\n\n    // mouse scroll zooming\n    // zoomHandler(svg)\n    svg.call(zoomHandler).on('dblclick.zoom', null)\n\n    this.setState({\n      svg,\n      linkGroup,\n      nodeGroup,\n      textGroup,\n      tooltip,\n      linkBgGroup,\n      linkTextGroup,\n      simulation,\n      dragDrop,\n      width: svg.attr('width'),\n      height: svg.attr('height'),\n      zoomHandler,\n      ...this.props\n    })\n  }\n\n  render () {\n    this.updateGraph()\n    return (\n      <div className='force-graph' width='100%' height='100%'>\n        <svg className='d3graph' width='100%' height='100%' />\n        <div className='zoom-actions'>\n          <span className='zoomIndicator'>100%</span>\n          <Glyphicon\n            glyph='plus'\n            id='zoom-in'\n            onClick={this.zoomIn}\n          />\n          <Glyphicon\n            glyph='minus'\n            id='zoom-out'\n            onClick={this.zoomOut}\n          />\n        </div>\n        <Glyphicon\n          glyph='remove'\n          id='exit-action'\n          onClick={this.props.exitHandler}\n        />\n        <div className='tooltip' />\n      </div>\n    )\n  }\n}\n\nGraph.defaultProps = {\n  width: 800,\n  height: 600,\n  nodes: [],\n  links: [],\n  selectedEntityTypes: []\n}\n\nGraph.propTypes = {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  setPropertiesInfo: PropTypes.func.isRequired,\n  exitHandler: PropTypes.func.isRequired,\n  expandNode: PropTypes.func.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  entityColors: PropTypes.object.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  nodes: PropTypes.array,\n  // eslint-disable-next-line react/forbid-prop-types\n  links: PropTypes.array,\n  // eslint-disable-next-line react/forbid-prop-types\n  selectedEntityTypes: PropTypes.array\n  // eslint-disable-next-line react/forbid-prop-types\n}\n\nexport default Graph\n","import React from 'react'\nimport LazyLoad from 'react-lazyload'\n\nimport './styles.css'\n\nconst style = {\n  backgroundColor: '#eee',\n  cursor: 'pointer',\n  overflow: 'hidden',\n  position: 'relative'\n}\n\nconst imgStyle = {\n  transition: 'transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s'\n}\n\nconst LazyImage = ({\n  index,\n  onClick,\n  photo,\n  margin,\n  direction,\n  top,\n  left\n}) => {\n  if (direction === 'column') {\n    style.position = 'absolute'\n    style.left = left\n    style.top = top\n  }\n  return (\n    <div\n      style={{ margin, height: photo.height, width: photo.width, ...style }}\n      className='lazy-image'\n    >\n      <LazyLoad>\n        <img\n          style={\n            { ...imgStyle }\n          }\n          {...photo}\n          onClick={e => onClick(e, { index, photo })}\n          alt={photo.alt}\n        />\n      </LazyLoad>\n    </div>\n  )\n}\n\nexport default LazyImage\n","import React, { Component } from 'react'\nimport Gallery from 'react-photo-gallery'\nimport LazyImage from '../LazyImage'\n\nclass BookShelf extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      books: props.books\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({books: props.books})\n  }\n\n  render () {\n    const { books } = this.state\n    if (books.length > 0) {\n      return <Gallery\n        photos={this.state.books.map((book, idx) => ({\n          ...book,\n          src: book.small_image_url.replace(/.(s\\/)/g, str => {\n            const tmp = str.split('s/')\n            if (tmp[0] < 58) {\n              return tmp[0].concat('l/')\n            }\n            return str\n          }),\n          width: 98,\n          height: 148,\n          alt: book.title,\n          key: idx\n        }))}\n        onClick={\n          (event, obj) => {\n            console.log(obj)\n            window.open(obj.photo.link, '_blank')\n          }\n        }\n        direction='column'\n        margin={this.props.margin}\n        columns={this.props.columns}\n        ImageComponent={LazyImage}\n      />\n    }\n    return (<div />)\n  }\n}\n\nexport default BookShelf\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\n// import './style.css'\n\nclass Node extends Component {\n  constructor () {\n    super()\n    this.clickHandler = this.clickHandler.bind(this)\n    this.doubleClickHandler = this.doubleClickHandler.bind(this)\n    this.mouseOverHandler = this.mouseOverHandler.bind(this)\n    this.mouseOutHandler = this.mouseOutHandler.bind(this)\n    // for click vs dblclick\n    this.clickTimeout = null\n  }\n\n  clickHandler () {\n    if (this.clickTimeout) {\n      clearTimeout(this.clickTimeout)\n      this.clickTimeout = null\n      this.doubleClickHandler()\n    } else {\n      this.clickTimeout = setTimeout(() => {\n        if (this.props.onClick) {\n          this.props.onClick({\n            type: 'NODE',\n            data: this.props.id\n          })\n        }\n      }, 300)\n    }\n  }\n\n  doubleClickHandler () {\n    if (this.props.onDoubleClick) {\n      this.props.onDoubleClick({\n        type: 'NODE',\n        data: this.props.id\n      })\n    }\n  }\n\n  mouseOverHandler (event, x) {\n    if (this.props.onMouseOver) {\n      this.props.onMouseOver({\n        type: 'NODE',\n        data: {\n          id: this.props.id,\n          text: this.props.text,\n          type: this.props.type\n        },\n        event\n      })\n    }\n  }\n\n  mouseOutHandler (event) {\n    if (this.props.onMouseOut) {\n      this.props.onMouseOut({\n        type: 'NODE',\n        data: {\n          id: this.props.id,\n          text: this.props.text,\n          type: this.props.type\n        },\n        event\n      })\n    }\n  }\n\n  render () {\n    const {\n      className,\n      radius,\n      color,\n      x,\n      y,\n      style\n    } = this.props\n    return (\n      <g\n        className={className}\n        transform={`translate(${x},${y})`}\n        onClick={this.clickHandler}\n        style={{\n          cursor: 'pointer'\n        }}\n        onMouseOver={this.mouseOverHandler}\n        onMouseOut={this.mouseOutHandler}\n      >\n        <circle\n          r={radius}\n          fill={color}\n          style={style}\n        />\n        {\n          getThumbnail(this.props)\n        }\n      </g>\n    )\n  }\n}\n\nconst getThumbnail = (props) => {\n  const { id, img, radius, shortText, textStyle } = props\n  if (img) {\n    return (\n      <g>\n        <defs>\n          <clipPath\n            id={`clip_${id}`}\n          >\n            <circle\n              r={radius - 1}\n              // fill={bgColor}\n            />\n          </clipPath>\n        </defs>\n        <image\n          xlinkHref={img}\n          clipPath={`url(#clip_${id})`}\n          x={-radius}\n          y={-radius}\n          width={radius * 2}\n        />\n      </g>\n    )\n  } else {\n    return (\n      <text\n        dx={-radius / 2}\n        dy={textStyle.fontSize / 2}\n        style={textStyle}\n      >\n        {shortText}\n      </text>\n    )\n  }\n}\n\nNode.defaultProps = {\n  className: 'node',\n  radius: 35,\n  color: '#FFFFFF',\n  style: {\n    r: 35,\n    stroke: '#375E97',\n    strokeWidth: '3px'\n  },\n  textStyle: {\n    fontSize: 15,\n    fill: '#fff',\n    strokeWidth: '3px',\n    fontWeight: 'normal'\n  }\n}\n\nNode.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  text: PropTypes.string,\n  shortText: PropTypes.string,\n  className: PropTypes.string,\n  img: PropTypes.string,\n  color: PropTypes.string,\n  radius: PropTypes.number,\n  style: PropTypes.shape({\n    r: PropTypes.number,\n    stroke: PropTypes.string,\n    strokeWidth: PropTypes.string\n  }),\n  textStyle: PropTypes.shape({\n    fontSize: PropTypes.number,\n    fill: PropTypes.string,\n    strokeWidth: PropTypes.string,\n    fontWeight: PropTypes.string\n  }),\n  x: PropTypes.number,\n  y: PropTypes.number,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onMouseOver: PropTypes.func\n}\n\nexport default Node\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass Link extends Component {\n  render () {\n    const { d, pointer, style, id } = this.props\n    return (\n      <g>\n        { getPointer(this.props) }\n        <path\n          id={id}\n          style={style}\n          d={d}\n          markerEnd={pointer ? `url(#${id}_pointer)` : pointer}\n        />\n        { getLabel(this.props) }\n      </g>\n    )\n  }\n}\n\nconst getPointer = (props) => {\n  if (props.pointer) {\n    return (\n      <defs>\n        <marker\n          id={`${props.id}_pointer`}\n          viewBox='0 -5 10 10'\n          refX={props.arrowOffset}\n          refY='-2'\n          markerWidth='6'\n          markerHeight='6'\n          orient='auto'\n        >\n          <path\n            d='M0,-5L10,0L0,5'\n            fill='#666'\n            style={{\n              opacity: 1\n            }} />\n        </marker>\n      </defs>\n    )\n  }\n}\n\nconst getLabel = (props) => {\n  if (props.type) {\n    return (\n      <text>\n        <textPath\n          dx={0}\n          dy={5}\n          href={`#${props.id}`}\n          startOffset='50%'\n          style={props.textStyle}\n        >\n          {props.type}\n        </textPath>\n      </text>\n    )\n  }\n}\n\nLink.defaultProps = {\n  style: {\n    strokeWidth: 1.5,\n    fill: 'none',\n    stroke: 'gba(50, 50, 50, 0.2)'\n  },\n  textStyle: {\n    pointerEvents: 'none',\n    textAnchor: 'middle',\n    fill: '#333'\n  },\n  pointer: true\n}\n\nLink.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  style: PropTypes.object,\n  textStyle: PropTypes.object,\n  d: PropTypes.string.isRequired,\n  pointer: PropTypes.bool\n}\n\nexport default Link\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { scaleOrdinal } from 'd3-scale'\n\nimport Node from '../Node'\nimport Link from '../Link'\n\nclass Universe extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      ...this.props\n    }\n\n    this.getArcPath = this.getArcPath.bind(this)\n    this.getLinks = this.getLinks.bind(this)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({ ...nextProps })\n  }\n\n  getLinks (source, target) {\n    return this.state.links\n      .filter(\n        link =>\n          link.source.id === source.id &&\n          link.target.id === target.id\n      )\n      .map(l => l.type)\n  }\n\n  getArcPath (link, clockwise = true) {\n    const x1 = clockwise ? link.source.x : link.target.x\n    const y1 = clockwise ? link.source.y : link.target.y\n    const x2 = clockwise ? link.target.x : link.source.x\n    const y2 = clockwise ? link.target.y : link.source.y\n    const dx = x2 - x1\n    const dy = y2 - y1\n    const siblings = this.getLinks(link.source, link.target)\n    // const siblingCount = siblings.length\n    const siblingCount = 2\n    const xRotation = 0\n    const largeArc = 0\n\n    if (siblingCount > 1) {\n      // console.log(siblings)\n      const arcScale = scaleOrdinal()\n        .domain(siblings)\n        .range([1, siblingCount])\n      const linkIdx = arcScale(link.type)\n      let scale\n      let sweep\n      if (linkIdx === 1) {\n        sweep = 1\n        scale = 1\n        // return `M${link.source.x},${link.source.y} L${link.target.x},${link.target.y}`\n      } else if (linkIdx % 2 === 0) {\n        sweep = 0\n        scale = linkIdx / 2\n      } else if (linkIdx % 3 === 0) {\n        sweep = 1\n        scale = linkIdx / 3 + 1\n      }\n      const dr =\n        Math.sqrt(dx * dx + dy * dy) / (1 + (1 / siblingCount) * (scale - 1))\n      return `M${x1},${y1}A${dr * 1.7},${dr *\n        1.7} ${xRotation}, ${largeArc}, ${sweep} ${x2},${y2}`\n    }\n    return `M${link.source.x},${link.source.y} L${link.target.x},${link.target.y}`\n  }\n\n  render () {\n    const { nodes, links } = this.state\n    return (\n      <g\n        className={this.props.className}\n        transform={this.props.transform}\n      >\n        <g className='links'>\n          {\n            links.reduce((acc, link, idx) => {\n              if (typeof link.source === 'object' && typeof link.target === 'object') {\n                acc.push(\n                  <Link\n                    key={idx}\n                    data={link}\n                    d={this.getArcPath(link)}\n                    style={link.style}\n                    id={link.id}\n                    type={link.type}\n                    arrowOffset={link.target.radius * 1.45}\n                  />\n                )\n                return acc\n              }\n              return acc\n            }, [])\n          }\n        </g>\n        <g className='nodes'>\n          {\n            nodes.map((node, idx) =>\n              <Node\n                key={idx}\n                onClick={this.props.onClick}\n                onDoubleClick={this.props.onDoubleClick}\n                onMouseOver={this.props.onMouseOver}\n                onMouseOut={this.props.onMouseOut}\n                {...node}\n              />\n            )\n          }\n        </g>\n      </g>\n    )\n  }\n}\n\nUniverse.defaultProps = {\n  className: 'universe',\n  nodes: [],\n  links: []\n}\n\nUniverse.propTypes = {\n  className: PropTypes.string,\n  nodes: PropTypes.array,\n  links: PropTypes.array,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func\n}\n\nexport default Universe\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { select, event } from 'd3-selection'\nimport {\n  forceLink,\n  forceSimulation,\n  forceCenter,\n  forceManyBody,\n  forceCollide\n} from 'd3-force'\nimport { zoom } from 'd3-zoom'\nimport { uniqBy } from 'lodash'\n\nimport Universe from './components/Universe'\n\nimport './style.css'\n\nclass NetworkGraph extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      nodes: [],\n      links: [],\n      simulation: this.initSimulation(),\n      width: 100,\n      height: 100,\n      transform: {\n        x: 0,\n        y: 0,\n        k: 1\n      },\n      tooltip: {\n        text: '',\n        style: {\n          opacity: 0,\n          top: 0,\n          left: 0\n        }\n      }\n    }\n    this.initSimulation = this.initSimulation.bind(this)\n    this.initZoomHandler = this.initZoomHandler.bind(this)\n    this.updateSimulation = this.updateSimulation.bind(this)\n    this.onTick = this.onTick.bind(this)\n    this.svg = React.createRef()\n    this.nodes = []\n    this.links = []\n\n    // to timit fps\n    this.interval = (1000 / this.props.fps)\n    this.millis = Date.now()\n\n    // mouseevents\n    this.mouseOverHandler = this.mouseOverHandler.bind(this)\n    this.mouseOutHandler = this.mouseOutHandler.bind(this)\n  }\n\n  componentDidMount () {\n    this.initZoomHandler()\n    this.setState({\n      ...this.props,\n      width: this.svg.current.clientWidth,\n      height: this.svg.current.clientHeight\n    }, () => {\n      this.updateSimulation()\n    })\n  }\n\n  componentWillReceiveProps (newProps) {\n    this.setState({\n      ...newProps\n    }, () => {\n      this.interval = (1000 / this.state.fps)\n      this.updateSimulation()\n    })\n  }\n\n  initSimulation () {\n    const linkForce = forceLink()\n      .id(link => link.id)\n      .strength(link => link.strength)\n      .distance(link => link.distance)\n    const simulation = forceSimulation().force('link', linkForce)\n\n    return simulation\n  }\n\n  initZoomHandler () {\n    // TODO: replace select dependency\n    // add zoom capabilities\n    const svg = select('.svgGraph')\n    const zoomHandler = zoom().on('zoom', () => {\n      this.setState({\n        transform: event.transform\n      })\n    })\n    svg.call(zoomHandler).on('dblclick.zoom', null)\n  }\n\n  updateSimulation () {\n    const {\n      nodes,\n      links,\n      simulation,\n      width,\n      height,\n      attraceForceStrength,\n      chargeStrength,\n      collisionRadiusOffset,\n      collisionStrength,\n      animation,\n      velocityDecay,\n      alphaStart,\n      cluster,\n      clusterRadiusScale\n    } = this.state\n\n    this.nodes = nodes\n    this.links = []\n\n    // bind nodes to links\n    links.forEach(link => {\n      const sourceNode = this.nodes.filter(\n        node => node.id === link.source\n      )[0]\n      const targetNode = this.nodes.filter(\n        node => node.id === link.target\n      )[0]\n      if (sourceNode && targetNode) {\n        this.links.push({\n          ...link,\n          source: sourceNode,\n          target: targetNode\n        })\n      }\n    })\n    simulation\n      .nodes(this.nodes)\n      .on('tick', this.onTick)\n    simulation.force('link').links(this.links)\n    simulation\n      .force('center', forceCenter(width / 2, height / 2))\n      .force('attraceForce', forceManyBody().strength(attraceForceStrength))\n      .force('charge', forceManyBody().strength(chargeStrength))\n      .force(\n        'collision',\n        forceCollide()\n          .radius(node => node.radius + collisionRadiusOffset)\n          .strength(collisionStrength)\n      )\n\n    // Enable clustering of nodes of same type\n    if (cluster) {\n      const clusters = {}\n      const nodeTypes = uniqBy(this.nodes, 'type').map(type => type.type)\n\n      nodeTypes.forEach((type, idx, arr) => {\n        if (!clusters[type]) {\n          const radius = width > height ? height * clusterRadiusScale : width * clusterRadiusScale\n          clusters[type] = {\n            x: Math.cos((idx + 1) / arr.length * 2 * Math.PI) * radius + width / 2 + Math.random(),\n            y: Math.sin((idx + 1) / arr.length * 2 * Math.PI) * radius + height / 2 + Math.random(),\n            radius\n          }\n        }\n      })\n\n      simulation.force('cluster', alpha =>\n        applyClusterForce(alpha, this.nodes, clusters)\n      )\n    } else {\n      simulation.force('cluster', null)\n    }\n\n    simulation\n      .alpha(alphaStart)\n      .alphaTarget(0)\n      .velocityDecay(velocityDecay)\n      .restart()\n\n    if (!animation) {\n      while (simulation.alpha() >= 0.02) {\n        simulation.tick()\n      }\n    }\n  }\n\n  onTick (e) {\n    // limit rendering\n    const currentTime = Date.now()\n    if (currentTime - this.millis > this.interval) {\n      this.millis = currentTime\n      this.setState({\n        nodes: this.nodes,\n        links: this.links\n      })\n    }\n  }\n\n  mouseOutHandler () {\n    this.setState({\n      tooltip: {\n        style: {\n          opacity: 0\n        }\n      }\n    })\n  }\n\n  mouseOverHandler (payload) {\n    const { event, type, data } = payload;\n    let text = ''\n    if (type === 'NODE') {\n      text = `[${data.type}] ${data.text}`\n    } else if (type === 'LINK') {\n      text = `${data.type}`\n    }\n    this.setState({\n      tooltip: {\n        text,\n        style: {\n          opacity: 1,\n          top: event.clientY + 15,\n          left: event.clientX + 15\n        }\n      }\n    })\n  }\n\n  render () {\n    const { nodes, links, transform, tooltip } = this.state\n    return (\n      <div\n        className='networkGraph'\n        style={{\n          width: '100%',\n          height: '100%'\n        }}\n      >\n        <svg\n          className='svgGraph'\n          width='100%'\n          height='100%'\n          ref={this.svg}\n        >\n          <Universe\n            nodes={nodes}\n            links={links}\n            transform={\n              `translate(${transform.x},${transform.y}) scale(${transform.k})`\n            }\n            onClick={this.props.onClick}\n            onDoubleClick={this.props.onDoubleClick}\n            onMouseOver={this.mouseOverHandler}\n            onMouseOut={this.mouseOutHandler}\n          />\n        </svg>\n        {/* <span className='zoomIndicator'>{parseInt(transform.k * 100, 10)} %</span> */}\n        <span\n          className='networkGrapTooltip'\n          style={tooltip.style}\n        >\n          {tooltip.text}\n        </span>\n      </div>\n    )\n  }\n}\n\n// node cluster handler\nconst applyClusterForce = (alpha, nodes, clusters) => {\n  nodes.forEach(node => {\n    const cluster = clusters[node.type]\n    if (cluster.x !== node.x && cluster.y !== node.y) {\n      const k = alpha * 0.5\n      node.vx -= (node.x - cluster.x) * k\n      node.vy -= (node.y - cluster.y) * k\n    }\n  })\n}\n\nNetworkGraph.defaultProps = {\n  nodes: [],\n  links: [],\n  attraceForceStrength: 10,\n  chargeStrength: -10,\n  collisionRadiusOffset: 15,\n  collisionStrength: 0.5,\n  animation: true,\n  cluster: false,\n  fps: 60,\n  alphaStart: 1,\n  velocityDecay: 0.4,\n  clusterRadiusScale: 2\n}\n\nNetworkGraph.propTypes = {\n  nodes: PropTypes.array,\n  links: PropTypes.array,\n  attraceForceStrength: PropTypes.number,\n  chargeStrength: PropTypes.number,\n  collisionRadiusOffset: PropTypes.number,\n  collisionStrength: PropTypes.number,\n  animation: PropTypes.bool,\n  fps: PropTypes.number,\n  alphaStart: PropTypes.number,\n  velocityDecay: PropTypes.number,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  cluster: PropTypes.bool,\n  clusterRadiusScale: PropTypes.number\n}\n\nexport default NetworkGraph\n","import read from '../../../data/books/read.json'\nimport toRead from '../../../data/books/to-read.json'\nimport currentlyReading from '../../../data/books/currently-reading'\n\nconst minifyString = text => {\n  return text.split(' ').slice(0, 3).map(word => word.charAt(0).toUpperCase()).join('')\n}\n\nexport function getGraphData () {\n  let books = []\n  let bookNodes = {}\n  let authorNodes = {}\n  let publisherNodes = {}\n  let nodes = []\n  let links = []\n\n  let rb = read.map(book => ({\n    ...book,\n    property: {\n      shelf: 'read'\n    }\n  }))\n  let crb = currentlyReading.map(book => ({\n    ...book,\n    property: {\n      shelf: 'currently-reading'\n    }\n  }))\n  let trb = toRead.map(book => ({\n    ...book,\n    property: {\n      shelf: 'to-read'\n    }\n  }))\n\n  // Merge all book lists into one\n  books = crb.concat(rb).concat(trb)\n\n  books.forEach(book => {\n    const { author } = book.authors\n\n    if (!bookNodes[book.id.$t]) {\n      // Create Book Nodes\n      bookNodes[book.id.$t] = {\n        ...book,\n        id: book.id.$t,\n        occurence: 1,\n        text: book.title,\n        type: 'BOOK',\n        typeOccirence: 1,\n        thumbnail_url: book.image_url\n        // thumbnail_url: null\n        // thumbnail_url: 'https://s.gr-assets.com/assets/nophoto/book/111x148-bcc042a9c91a29c1d680899eff700a03.png'\n      }\n      // Create Author Nodes\n      if (!authorNodes[author.id]) {\n        authorNodes[author.id] = {\n          ...author,\n          id: author.id,\n          text: author.name,\n          occurence: 1,\n          type: 'AUTHOR',\n          typeOccirence: 1,\n          thumbnail_url: author.image_url.$t\n        }\n      }\n      // Create Publisher Nodes\n      if (!publisherNodes[book.publisher]) {\n        publisherNodes[book.publisher] = {\n          id: book.publisher,\n          text: book.publisher,\n          type: 'PUBLISHER'\n        }\n      }\n      // Create Authoer --> Book relationship\n      links.push({\n        source: author.id,\n        sourceType: 'AUTHOR',\n        target: book.id.$t,\n        targetType: 'BOOK',\n        type: 'AUTHOR_OF',\n        typeOccirence: 1,\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n      // Create Book --> Publisher relationship\n      links.push({\n        source: book.id.$t,\n        sourceType: 'BOOK',\n        target: book.publisher,\n        targetType: 'PUBLISHER',\n        type: 'PUBLISHED_BY',\n        typeOccirence: 1,\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n\n      // Create Author --> Publisher relationship\n      links.push({\n        source: author.id,\n        sourceType: 'AUTHOR',\n        target: book.publisher,\n        targetType: 'PUBLISHER',\n        type: 'WORKS_WITH',\n        typeOccirence: 1,\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n    }\n  })\n\n  // Collect all nodes\n  nodes = Object.values(bookNodes)\n    .concat(Object.values(authorNodes))\n    .concat(Object.values(publisherNodes))\n    .map((node, idx) => ({\n      ...node,\n      index: idx,\n      x: 0,\n      y: 0,\n      fx: null,\n      fy: null\n    }))\n\n  return {\n    nodes,\n    links\n  }\n}\n\nexport function getGraphDataV2 () {\n  let books = []\n  let bookNodes = {}\n  let authorNodes = {}\n  let publisherNodes = {}\n  let nodes = []\n  let links = []\n\n  let rb = read.map(book => ({\n    ...book,\n    property: {\n      shelf: 'read'\n    }\n  }))\n  let crb = currentlyReading.map(book => ({\n    ...book,\n    property: {\n      shelf: 'currently-reading'\n    }\n  }))\n  let trb = toRead.map(book => ({\n    ...book,\n    property: {\n      shelf: 'to-read'\n    }\n  }))\n\n  // Merge all book lists into one\n  books = crb.concat(rb).concat(trb)\n\n  books.forEach(book => {\n    const { author } = book.authors\n\n    if (!bookNodes[book.id.$t]) {\n      // Create Book Nodes\n      bookNodes[book.id.$t] = {\n        ...book,\n        id: book.id.$t,\n        occurence: 1,\n        text: book.title,\n        type: 'BOOK',\n        typeOccirence: 1,\n        img: book.image_url,\n        color: '#336B87',\n        radius: 35,\n        style: {\n          r: 35,\n          stroke: '#375E97',\n          strokeWidth: '3px'\n        }\n      }\n      // Create Author Nodes\n      if (!authorNodes[author.id]) {\n        authorNodes[author.id] = {\n          ...author,\n          id: author.id,\n          text: author.name,\n          occurence: 1,\n          type: 'AUTHOR',\n          typeOccirence: 1,\n          img: author.image_url.$t,\n          color: '#FB6542',\n          radius: 35,\n          style: {\n            r: 35,\n            stroke: '#FB6542',\n            strokeWidth: '3px'\n          }\n        }\n      }\n      // Create Publisher Nodes\n      if (!publisherNodes[book.publisher]) {\n        publisherNodes[book.publisher] = {\n          id: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n          text: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n          type: 'PUBLISHER',\n          color: '#DDA487',\n          radius: 35,\n          style: {\n            r: 35,\n            stroke: '#7D4427',\n            strokeWidth: '3px'\n          }\n        }\n      }\n      // Create Authoer --> Book relationship\n      links.push({\n        source: author.id,\n        sourceType: 'AUTHOR',\n        target: book.id.$t,\n        targetType: 'BOOK',\n        type: 'AUTHOR_OF',\n        typeOccirence: 1,\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n      // Create Book --> Publisher relationship\n      links.push({\n        source: book.id.$t,\n        sourceType: 'BOOK',\n        target: typeof book.publisher === 'string' ? book.publisher : 'Self Published',\n        targetType: 'PUBLISHER',\n        type: 'PUBLISHED_BY',\n        typeOccirence: 1,\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n\n      // Create Author --> Publisher relationship\n      links.push({\n        source: author.id,\n        sourceType: 'AUTHOR',\n        target: book.publisher,\n        targetType: 'PUBLISHER',\n        type: 'WORKS_WITH',\n        typeOccirence: 1,\n        property: {\n          publicationYear: book.publication_year,\n          publicationMonth: book.publication_month,\n          publicationDay: book.publication_day\n        }\n      })\n    }\n  })\n\n  // Collect all nodes\n  nodes = Object.values(bookNodes)\n    .concat(Object.values(authorNodes))\n    .concat(Object.values(publisherNodes))\n    .map((node, idx) => ({\n      ...node,\n      index: idx,\n      x: 0,\n      y: 0,\n      fx: null,\n      fy: null,\n      shortText: minifyString(node.text),\n      textStyle: {\n        fontSize: 15,\n        fill: '#fff',\n        strokeWidth: '2px',\n        fontWeight: 'normal'\n      }\n    }))\n\n  return {\n    nodes,\n    links: links.map(link => ({\n      ...link,\n      strength: 0.4,\n      distance: 450,\n      id: `${link.source}-${link.target}`,\n      style: {\n        strokeWidth: 1.5,\n        fill: 'none',\n        stroke: 'rgba(50, 50, 50, 0.2)'\n      }\n    }))\n  }\n}\n","import React, { Component } from 'react'\nimport Modal from 'react-modal'\nimport Glyphicon from 'react-bootstrap/lib/Glyphicon'\nimport Gallery from 'react-photo-gallery'\nimport { ForceD3 } from '../Graph'\nimport BookShelf from '../BookShelf'\nimport NetworkGraph from '../NetworkGraph'\nimport LazyImage from '../LazyImage'\n\nimport favoriteBooks from '../../../data/books/favorites.json'\nimport readBooks from '../../../data/books/read.json'\n\nimport { getGraphData, getGraphDataV2 } from './helper'\n\nimport './styles.css'\n\n// Modal.setAppElement('#root')\n\nconst entityColors = {\n  nodeTypes: {\n    BOOK: '#336B87',\n    AUTHOR: '#FB6542',\n    PUBLISHER: '#7D4427'\n  },\n  bookShelf: {\n    'read': '#FFBB00',\n    'to-read': '#375E97',\n    'currently-reading': '#3F681C'\n  }\n}\n\nclass Book extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      modalIsOpen: false,\n      selectedModal: 0,\n      shelves: []\n    }\n    this.openModal = this.openModal.bind(this)\n    this.afterOpenModal = this.afterOpenModal.bind(this)\n    this.closeModal = this.closeModal.bind(this)\n  }\n\n  componentDidMount () {\n    // open modal for development\n    this.openModal(2)\n  }\n\n  openModal (selectedModal) {\n    this.setState({\n      modalIsOpen: true,\n      selectedModal\n    })\n  }\n\n  afterOpenModal () {\n    const rootElement = document.getElementById('root')\n    if (rootElement) {\n      rootElement.style.filter = 'blur(5px)'\n    }\n  }\n\n  closeModal () {\n    const rootElement = document.getElementById('root')\n    if (rootElement) {\n      rootElement.style.filter = 'blur(0px)'\n    }\n    this.setState({modalIsOpen: false})\n  }\n\n  render () {\n    const { selectedModal } = this.state\n\n    return (\n      <div>\n        <Gallery\n          photos={favoriteBooks.map((book, idx) => ({\n            ...book,\n            src: book.small_image_url.replace(/.(s\\/)/g, str => {\n              const tmp = str.split('s/')\n              if (tmp[0] < 58) {\n                return tmp[0].concat('l/')\n              }\n              return str\n            }),\n            width: 98,\n            height: 148,\n            alt: book.title,\n            key: idx\n          }))}\n          onClick={\n            (event, obj) => {\n              console.log(obj)\n              window.open(obj.photo.link, '_blank')\n            }\n          }\n          direction='column'\n          columns='5'\n          margin='0'\n          ImageComponent={LazyImage}\n        />\n        <div className='bookActions'>\n          <span className='books_link' onClick={() => this.openModal(0)}>\n            <Glyphicon glyph='plus' /> More Books\n          </span>\n          <span className='books_link' onClick={() => this.openModal(1)}>\n            <Glyphicon glyph='plus' /> Explore Books\n          </span>\n          <span className='books_link' onClick={() => this.openModal(2)}>\n            <Glyphicon glyph='plus' /> Network Graph\n          </span>\n        </div>\n        <Modal\n          isOpen={this.state.modalIsOpen}\n          onAfterOpen={this.afterOpenModal}\n          onRequestClose={this.closeModal}\n          className='booksModal'\n          overlayClassName='ModalOverlay'\n          contentLabel='Books'\n        >\n          <div className='bookModalContent'>\n            { getModalContent(selectedModal, this) }\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nconst getModalContent = (selectedModal, context) => {\n  if (selectedModal === 0) {\n    return (\n      <div className='bookShelf' >\n        <BookShelf\n          books={readBooks}\n          margin='0'\n          columns='7'\n        />\n      </div>\n    )\n  } else if (selectedModal === 1) {\n    const { nodes, links } = getGraphData()\n    return (\n      <ForceD3\n        nodes={nodes}\n        links={links}\n        entityColors={entityColors}\n        setPropertiesInfo={(data) => console.log(data)}\n        expandNode={node => {\n          console.log(node)\n          if (node.type === 'BOOK' || node.type === 'AUTHOR') {\n            window.open(node.link, '_blank')\n          }\n        }}\n        exitHandler={context.closeModal}\n      />\n    )\n  } else if (selectedModal === 2) {\n    const { nodes, links } = getGraphDataV2()\n    return (\n      <NetworkGraph\n        nodes={nodes}\n        links={links}\n        onClick={event => console.log('Click', event)}\n        onDoubleClick={event => console.log('Double Click', event)}\n        clusterRadiusScale={1.2}\n        cluster\n      />\n    )\n  }\n}\n\nexport default Book\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Glyphicon from 'react-bootstrap/lib/Glyphicon'\nimport WorldMap from '../Common/WorldMap'\nimport Books from '../Common/Books'\nimport './styles.css'\n\nclass Interests extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      data: props.data\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({data: props.data})\n  }\n\n  render () {\n    const { travel } = this.state.data\n    return (\n      <React.Fragment>\n        <section className='row interests' id='interests'>\n          <div className='col-md-12 title'>\n            <h2>\n              <Glyphicon glyph='heart' /> / Interests\n            </h2>\n          </div>\n          <div className='col-md-12'>\n            <div className='content'>\n              <div className='row'>\n                <div className='col-md-12'>\n                  <div className='inner-title'>\n                    <h3><Glyphicon glyph='book' /> Books</h3>\n                    <p>\n                      Some of my favorite books:\n                    </p>\n                  </div>\n                  <Books />\n                </div>\n                <div className='col-md-12'>\n                  <div className='divider'>\n                    <span>\n                      <i class='glyphicon glyphicon-star' />\n                    </span>\n                  </div>\n                </div>\n                <div className='col-md-12'>\n                  <div className='inner-title'>\n                    <h3><Glyphicon glyph='plane' /> Travel</h3>\n                    <p>\n                      Countries visited so far: <i><b>{travel.countriesVisited.length}</b></i>\n                    </p>\n                  </div>\n                  <WorldMap countries={travel.countriesVisited} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </React.Fragment>\n    )\n  }\n}\n\nInterests.propTypes = {\n  data: PropTypes.object.isRequired\n}\n\nexport default Interests\n","import fetch from 'isomorphic-fetch'\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Glyphicon from 'react-bootstrap/lib/Glyphicon'\nimport {Form, FormGroup, FormControl, ControlLabel, Button} from 'react-bootstrap'\nimport isEmail from 'validator/lib/isEmail'\nimport isEmpty from 'validator/lib/isEmpty'\nimport './styles.css'\n\nclass Contact extends Component {\n  constructor (props) {\n    super(props)\n    this.handleUserInput = this.handleUserInput.bind(this)\n    this.getValidationState = this.getValidationState.bind(this)\n    this.validateInputs = this.validateInputs.bind(this)\n    this.sendEmail = this.sendEmail.bind(this)\n    this.state = {\n      myEmail: props.email,\n      name: '',\n      email: '',\n      message: '',\n      nameValidation: null,\n      emailValidation: null,\n      messageValidation: null,\n      isLoading: false\n    }\n  }\n\n  getValidationState () {\n    const length = this.state.name.length\n    if (length > 1) return 'success'\n    else if (length > 5) return 'warning'\n    else if (length > 0) return 'error'\n    return null\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({ myEmail: props.email })\n  }\n\n  handleUserInput (e) {\n    const validaton = {}\n    const update = {\n      [e.target.name]: e.target.value\n    }\n    switch (e.target.name) {\n      case 'name':\n        if (isEmpty(e.target.value)) {\n          validaton.nameValidation = 'error'\n        } else {\n          validaton.nameValidation = 'success'\n        }\n        break\n      case 'email':\n        if (!isEmail(e.target.value)) {\n          validaton.emailValidation = 'error'\n        } else {\n          validaton.emailValidation = 'success'\n        }\n        break\n      case 'message':\n        if (isEmpty(e.target.value)) {\n          validaton.messageValidation = 'error'\n        } else {\n          validaton.messageValidation = 'success'\n        }\n        break\n      default:\n        break\n    }\n    this.setState(prev => ({...prev, ...validaton, ...update}))\n  }\n\n  validateInputs () {\n    const { nameValidation, emailValidation, messageValidation } = this.state\n    return (nameValidation === 'success' && emailValidation === 'success' && messageValidation === 'success')\n  }\n\n  sendEmail () {\n    const {myEmail, name, email, message} = this.state\n    if (this.validateInputs()) {\n      const payload = {\n        from: 'Contact Me',\n        to: myEmail,\n        subject: `Msg from: ${email}`,\n        text: `Name: ${name}\\n\\nEmail: ${email}\\n\\nMessage: ${message}`\n      }\n      // Send Email\n      this.setState({isLoading: true})\n      fetch('https://us-central1-mailer-69581.cloudfunctions.net/mail/', {\n        method: 'POST',\n        body: JSON.stringify(payload),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          response.json().then(data => {\n            this.setState({\n              isLoading: false,\n              email: '',\n              name: '',\n              message: ''\n            })\n            window.alert('Message Sent!')\n            console.log(data)\n          })\n        } else {\n          console.log(response)\n          throw new Error('Email send failed.')\n        }\n      }).catch(() => {\n        window.alert('Failed to send message. Please try sending me an email instead.')\n        this.setState({isLoading: false})\n      })\n    } else {\n      const validations = {}\n      if (isEmpty(name)) {\n        validations.nameValidation = 'error'\n      }\n      if (!isEmail(email)) {\n        validations.emailValidation = 'error'\n      }\n      if (isEmpty(message)) {\n        validations.messageValidation = 'error'\n      }\n      this.setState(prev => ({...prev, ...validations}))\n    }\n  }\n\n  render () {\n    const { isLoading, nameValidation, emailValidation, messageValidation } = this.state\n    return (\n      <React.Fragment>\n        <section className='row contact' id='contact'>\n          <div className='col-md-12 title'>\n            <h2>\n              <Glyphicon glyph='envelope' /> / Contact\n            </h2>\n          </div>\n          <div className='col-md-12'>\n            <div className='content'>\n              <div className='inner-title'>\n                <h3>get in touch with me</h3>\n                <p>Let me now if you're interested in working with me.</p>\n              </div>\n              {/* <div className='inner-content contact-holder'> */}\n              <div className='inner-content '>\n                <div className='address'>\n                  <Form horizontal>\n                    {/* Name */}\n                    <FormGroup\n                      controlId='formHorizontalname'\n                      validationState={nameValidation}\n                    >\n                      <ControlLabel>Name</ControlLabel>\n                      <FormControl\n                        type='text'\n                        placeholder='Your Name'\n                        name='name'\n                        value={this.state.name}\n                        onChange={this.handleUserInput}\n                      />\n                    </FormGroup>\n                    {/* Email */}\n                    <FormGroup\n                      controlId='formHorizontalEmail'\n                      validationState={emailValidation}\n                    >\n                      <ControlLabel>Email</ControlLabel>\n                      <FormControl\n                        type='email'\n                        placeholder='Email'\n                        name='email'\n                        value={this.state.email}\n                        onChange={this.handleUserInput}\n                      />\n                    </FormGroup>\n                    {/* Message */}\n                    <FormGroup\n                      controlId='formHorizontalMessage'\n                      validationState={messageValidation}\n                    >\n                      <ControlLabel>Message</ControlLabel>\n                      <FormControl\n                        componentClass='textarea'\n                        rows={4}\n                        placeholder='Message'\n                        name='message'\n                        value={this.state.message}\n                        onChange={this.handleUserInput}\n                      />\n                    </FormGroup>\n\n                    <FormGroup>\n                      <Button\n                        className='btnSend'\n                        disabled={isLoading}\n                        onClick={!isLoading ? this.sendEmail : null}\n                      >\n                        Send\n                      </Button>\n                    </FormGroup>\n                  </Form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </React.Fragment>\n    )\n  }\n}\n\nContact.propTypes = {\n  email: PropTypes.string.isRequired\n}\n\nexport default Contact\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './styles.css'\n\nclass Footer extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      quote: props.quote\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({quote: props.quote})\n  }\n\n  render () {\n    const { quote, author } = this.state.quote\n    return (\n      <footer className='footer'>\n        <div className='quotes'>\n          <div className='quote-body'>\n            <blockquote> {quote} </blockquote>\n          </div>\n          <div className='quote-by'> - {author} </div>\n        </div>\n      </footer>\n    )\n  }\n}\n\nFooter.propTypes = {\n  quote: PropTypes.object.isRequired\n}\n\nexport default Footer\n","import fetch from 'isomorphic-fetch'\nimport React, { Component } from 'react'\nimport ReactGA from 'react-ga'\n// import ReactLoading from 'react-loading'\n// import Header from '../Common/Header'\nimport Dashboard from '../Dashboard'\nimport About from '../About'\nimport Resume from '../Resume'\nimport Interests from '../Interests'\n// import Travel from '../Travel'\nimport Contact from '../Contact'\nimport Footer from '../Common/Footer'\n\nimport resumeData from '../../data/resume.json'\n\nimport { quotesAPI, booksAPI } from './URLs'\n\nimport './index.css'\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      resumeData: {},\n      quote: {\n        quote: 'People who are really serious about software should make their own hardware',\n        author: 'Alan Kay'\n      }\n    }\n\n    ReactGA.initialize('UA-76263604-1', { testMode: true })\n    ReactGA.pageview(window.location.pathname)\n  }\n\n  getQuote () {\n    return fetch(quotesAPI)\n      .then(response => response.json())\n  }\n\n  getBooks () {\n    return fetch(booksAPI).then(response => response.json())\n  }\n\n  componentDidMount () {\n    // this.setState({ resumeData })\n    this.getQuote()\n      .then(quote => {\n        this.setState({ quote })\n      })\n      .catch(err => console.log(err))\n  }\n\n  render () {\n    const {basics, education, work, interests} = resumeData\n    const { quote } = this.state\n    return (\n      <div className='App'>\n        {/* <Header /> */}\n        <Dashboard name={basics.name} quote={quote} />\n        <About data={basics} />\n        <Resume education={education} work={work} />\n        <Interests data={interests} />\n        {/* <Travel countries={travel} /> */}\n        <Contact email={basics.email} />\n        <Footer quote={quote} />\n      </div>\n    )\n    // return (\n    //   <div className='loading-container' >\n    //     <ReactLoading type='bubbles' color='#fff' height={'10%'} width={'10%'} className='mainLoader' />\n    //   </div>\n    // )\n  }\n}\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\nimport fetch from 'isomorphic-fetch'\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register () {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n// import 'bootstrap/dist/css/bootstrap-theme.min.css'\n// import './index.css'\nimport App from './containers/App'\nimport registerServiceWorker from './registerServiceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\nregisterServiceWorker()\n"],"sourceRoot":""}